<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAB 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    <input type="email" id="email" name="email" multiple />
    </br>
    <input type="search" id="search" name="search" />
    </br>
    <input type="tel" id="tel" name="tel" />
    </br>
    <label for="price">Slide me: </label>
    <input type="range" name="price" id="price" min="50000" max="500000" step="100" value="250000" />
    <output class="price-output" for="price"></output>
    </br>
    <input type="datetime-local" name="datetime" id="datetime" />
    <br><br>
    <div align="center" class="card" style="width: 18rem;">
        <img src="map.png" class="card-img-top" alt="...">
        <div class="card-body">
            <h5 class="card-title">Find your Location</h5>
            <p class="card-text">
            <figure>
                <figcaption>Listen to the T-Rex:</figcaption>
                <audio controls src="/media/cc0-audio/t-rex-roar.mp3">
                    <a href="/media/cc0-audio/t-rex-roar.mp3">
                        Download audio
                    </a>
                </audio>
            </figure>
            </p>
            <button id="find-me" class="btn btn-outline-success">Show my location</button>
            <p id="status"></p>
            <a id="map-link" target="_blank"></a>
            <!-- <center><a class="btn btn-outline-success" href="pg2.html" role="button">Find my location</a></center> -->
        </div>
    </div>
</body>
<script>
    function geoFindMe() {

        const status = document.querySelector('#status');
        const mapLink = document.querySelector('#map-link');

        mapLink.href = '';
        mapLink.textContent = '';

        function success(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            status.textContent = '';
            mapLink.href = `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;
            mapLink.textContent = `Latitude: ${latitude} °, Longitude: ${longitude} °`;
        }

        function error() {
            status.textContent = 'Unable to retrieve your location';
        }

        if (!navigator.geolocation) {
            status.textContent = 'Geolocation is not supported by your browser';
        } else {
            status.textContent = 'Locating…';
            navigator.geolocation.getCurrentPosition(success, error);
        }

    }

    document.querySelector('#find-me').addEventListener('click', geoFindMe);
</script>

</html>